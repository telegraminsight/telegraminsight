<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TelegramInsight ‚Äî –ê–Ω–∞–ª–∏–∑ Telegram-–∫–∞–Ω–∞–ª–æ–≤</title>
  <meta name="description" content="–ê–Ω–∞–ª–∏–∑ Telegram-–∫–∞–Ω–∞–ª–æ–≤ –±–µ–∑ –∏–ª–ª—é–∑–∏–π. –ü–æ–º–æ–≥–∞–µ–º —Ä–µ–∫–ª–∞–º–æ–¥–∞—Ç–µ–ª—è–º –≤—ã—è–≤–ª—è—Ç—å –Ω–∞–∫—Ä—É—Ç–∫–∏, –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤–æ–≤–ª–µ—á—ë–Ω–Ω–æ—Å—Ç—å –∏ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è.">
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
    import { getAuth, onAuthStateChanged, signInWithEmailAndPassword, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";
    import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyDfMcGtHvwFqCKu5x5a1UnMpBSf2ayPapE",
      authDomain: "telegraminsight.firebaseapp.com",
      projectId: "telegraminsight",
      storageBucket: "telegraminsight.appspot.com",
      messagingSenderId: "384392963166",
      appId: "1:384392963166:web:generatedvalue"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth();
    const db = getFirestore();

    const loginForm = document.getElementById("login-form");
    const requestForm = document.getElementById("channel-analysis-form");
    const loginBlock = document.getElementById("login-block");

   onAuthStateChanged(auth, (user) => {
  const logoutBtn = document.getElementById("logout-btn");
  if (user) {
    const greeting = document.getElementById("user-greeting");
    greeting.textContent = `üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, ${user.email}`;
    greeting.classList.remove("hidden");
    loginBlock.classList.add("hidden");
    requestForm.classList.remove("hidden");
    logoutBtn.classList.remove("hidden");
  } else {
    loginBlock.classList.remove("hidden");
    requestForm.classList.add("hidden");
    logoutBtn.classList.add("hidden");
  }
  logoutBtn.addEventListener("click", () => auth.signOut());
});


    loginForm?.addEventListener("submit", async (e) => {
      e.preventDefault();
      const email = loginForm.email.value;
      const password = loginForm.password.value;
      try {
        await signInWithEmailAndPassword(auth, email, password);
      } catch (err) {
        if (err.code === 'auth/user-not-found') {
          await createUserWithEmailAndPassword(auth, email, password);
        } else {
          alert("–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞: " + err.message);
        }
      }
    });

    requestForm?.addEventListener("submit", async (e) => {
      e.preventDefault();
      const formData = new FormData(requestForm);
      const data = Object.fromEntries(formData);
      try {
        await addDoc(collection(db, "requests"), data);
        alert("–ó–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!");
        requestForm.reset();
      } catch (error) {
        alert("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ: " + error.message);
      }
    });
  </script>
</head>
<body class="bg-white text-gray-800">
  <header class="flex flex-wrap items-center justify-between p-4 border-b shadow-sm">
    <div class="flex items-center space-x-3">
      <img src="/images/logo.png" alt="TelegramInsight Logo" class="w-8 h-8">
      <h1 class="text-xl font-bold">TelegramInsight</h1>
    </div>
    <nav class="w-full mt-4 md:mt-0 md:w-auto space-x-2 text-sm md:text-base text-center md:text-left">
      <a href="/cases" class="block md:inline hover:text-blue-600">–ö–µ–π—Å—ã</a>
      <a href="/tools" class="block md:inline hover:text-blue-600">–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</a>
      <a href="/blog" class="block md:inline hover:text-blue-600">–ë–ª–æ–≥</a>
      <a href="/glossary" class="block md:inline hover:text-blue-600">–ì–ª–æ—Å—Å–∞—Ä–∏–π</a>
      <a href="/catalog" class="block md:inline hover:text-blue-600">–ö–∞—Ç–∞–ª–æ–≥</a>
    </nav>
  </header>

  <main class="text-center py-20 px-6 bg-gray-50">
    <h2 class="text-4xl font-extrabold mb-4">–ê–Ω–∞–ª–∏–∑ Telegram-–∫–∞–Ω–∞–ª–æ–≤ –±–µ–∑ –∏–ª–ª—é–∑–∏–π</h2>
    <p class="text-xl mb-6 max-w-2xl mx-auto">–û–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ–º –Ω–∞–∫—Ä—É—Ç–∫–∏, —Ä–∞–∑–±–∏—Ä–∞–µ–º –≤–æ–≤–ª–µ—á—ë–Ω–Ω–æ—Å—Ç—å, –ø–æ–º–æ–≥–∞–µ–º —Ä–µ–∫–ª–∞–º–æ–¥–∞—Ç–µ–ª—è–º –¥–µ–ª–∞—Ç—å –æ—Å–æ–∑–Ω–∞–Ω–Ω—ã–π –≤—ã–±–æ—Ä. –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–π –ø—Ä–æ–µ–∫—Ç, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –Ω–∞ –¥–∞–Ω–Ω—ã—Ö.</p>
    <div class="space-x-4">
      <a href="/cases" class="bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700">–°–º–æ—Ç—Ä–µ—Ç—å –∫–µ–π—Å—ã</a>
      <a href="/tools" class="bg-gray-200 text-gray-900 px-6 py-3 rounded-xl hover:bg-gray-300">–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</a>
    </div>
  </main>

  <section class="bg-gray-50 py-16 mt-16">
    <div class="max-w-xl mx-auto px-6">
      <h2 class="text-2xl font-bold text-center mb-4">üì¨ –û—Ç–ø—Ä–∞–≤–∏—Ç—å Telegram-–∫–∞–Ω–∞–ª –Ω–∞ –∞–Ω–∞–ª–∏–∑</h2>
      <p class="text-center text-gray-600 mb-6">–ß—Ç–æ–±—ã –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π, –≤–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç.</p>

      <!-- –ë–ª–æ–∫ –ª–æ–≥–∏–Ω–∞ -->
      <div class="flex justify-between items-center mb-4">
  <div id="user-greeting" class="text-sm text-gray-600 hidden"></div>
  <button id="logout-btn" class="text-sm text-red-600 hover:underline hidden">–í—ã–π—Ç–∏</button>
</div>
<div id="login-block" class="text-center">
        <form id="login-form" class="space-y-4 max-w-sm mx-auto">
          <input name="email" type="email" placeholder="Email" required class="w-full border px-4 py-2 rounded">
          <input name="password" type="password" placeholder="–ü–∞—Ä–æ–ª—å" required class="w-full border px-4 py-2 rounded">
          <button type="submit" class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700">–í–æ–π—Ç–∏ / –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
        </form>
      </div>

      <!-- –§–æ—Ä–º–∞ –∑–∞–ø—Ä–æ—Å–∞ -->
      <form class="space-y-4 mt-10 hidden" id="channel-analysis-form">
        <input type="url" name="channel" required placeholder="–°—Å—ã–ª–∫–∞ –Ω–∞ –∫–∞–Ω–∞–ª (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)"
               class="w-full border px-4 py-2 rounded" />
        <input type="email" name="email" placeholder="–í–∞—à email (–ø–æ –∂–µ–ª–∞–Ω–∏—é)"
               class="w-full border px-4 py-2 rounded" />
        <textarea name="comment" rows="4" placeholder="–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)"
                  class="w-full border px-4 py-2 rounded"></textarea>
        <button type="submit"
                class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700">
          –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É
        </button>
      </form>
    </div>
  </section>

  <footer class="p-4 sm:p-6 text-center text-sm text-gray-500 border-t">
    TelegramInsight ¬© 2025 ¬∑ <a href="https://t.me/telegraminsight" target="_blank" class="hover:underline">–ù–∞—à Telegram</a>
  </footer>
</body>
</html>

